<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
    <title>Registrierung</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
</h:head>

<h:body>
    <div class="container">
        <header class="d-flex flex-wrap align-items-center justify-content-between py-3 mb-4 border-bottom">
            <div class="col-md-6 mb-2 mb-md-0">
                <h2 class="text-primary m-0">Like Hero to Zero</h2>
            </div>
            <div class="col-md-6 text-end">
				<h:panelGroup rendered="#{loginBean.loggedIn}">
				<h:link outcome="dashboard.xhtml" styleClass="btn btn-outline-primary me-2">Dashboard</h:link>
				    <h:form styleClass="d-inline">
				        <h:commandButton value="Logout" action="#{loginBean.logout}" styleClass="btn btn-outline-danger" />
				    </h:form>
				</h:panelGroup>
				
				<h:panelGroup rendered="#{not loginBean.loggedIn}">
				    <h:link outcome="index.xhtml" styleClass="btn btn-outline-primary me-2">Startseite</h:link>
				    <h:link outcome="login.xhtml" styleClass="btn btn-primary">Login</h:link>
				</h:panelGroup>
            </div>
        </header>

        <h2 class="mb-4 text-center">Registrierung</h2>

        <h:form>
            <h:messages globalOnly="false" layout="list" style="color:red; margin-bottom:1rem;" />

            <div class="mb-3">
                <label for="firstname" class="form-label">Vorname</label>
                <h:inputText id="firstname" value="#{registerBean.firstname}" required="true" label="Vorname" styleClass="form-control" />
            </div>

            <div class="mb-3">
                <label for="lastname" class="form-label">Nachname</label>
                <h:inputText id="lastname" value="#{registerBean.lastname}" required="true" label="Nachname" styleClass="form-control" />
            </div>

            <div class="mb-3">
                <label for="email" class="form-label">E-Mail-Adresse</label>
                <h:inputText id="email" value="#{registerBean.email}" required="true" label="E-Mail-Adresse" styleClass="form-control" />
            </div>

            <div class="mb-3">
                <label for="password" class="form-label">Passwort</label>
                <h:inputSecret id="password" value="#{registerBean.password}" required="true" label="Passwort" styleClass="form-control" />
            </div>

            <div class="mb-3">
                <label for="passwordConfirm" class="form-label">Passwort best채tigen</label>
                <h:inputSecret id="passwordConfirm" value="#{registerBean.passwordConfirm}" required="true" label="Passwort best채tigen" styleClass="form-control" />

            </div>

            <div class="mb-4">
                <label for="citizenship" class="form-label">Staatsb체rgerschaft</label>
                <h:selectOneMenu id="citizenship" value="#{registerBean.citizenshipId}" required="true" label="Staatsb체rgerschaft" styleClass="form-select">
                    <f:selectItems value="#{registerBean.countryOptions}" />
                </h:selectOneMenu>
            </div>

            <h:commandButton value="Registrieren" action="#{registerBean.register}" styleClass="btn btn-primary w-100" />
        </h:form>
    </div>
</h:body>
</html>
